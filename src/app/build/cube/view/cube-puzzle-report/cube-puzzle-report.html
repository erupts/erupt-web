<nz-card [nzBordered]="false" [nzTitle]="report.title" nzSize="small" [nzLoading]="querying"
         style="height: 100%;width: 100%;margin-bottom: 0" [nzBodyStyle]="{height: 'calc(100% - 38px)'}">
    <div [hidden]="report.type === ReportType.TABLE" #chartContainer style="height: 100%;width: 100%">

    </div>
    @if (report.type === ReportType.TABLE) {
        <div style="height: 100%; overflow: auto;">
            <nz-table #basicTable [nzData]="chartData" [nzFrontPagination]="false"
                      [nzShowPagination]="false" nzSize="small">
                <thead>
                <tr>
                    @for (col of (report.cube[CubeKey.xField] || []); track col) {
                        <th>{{ col }}</th>
                    }
                    @for (col of (report.cube[CubeKey.yField] || []); track col) {
                        <th>{{ col }}</th>
                    }
                </tr>
                </thead>
                <tbody>
                @for (row of chartData; track row) {
                    <tr>
                        @for (col of (report.cube[CubeKey.xField] || []); track col) {
                            <td>{{ row[col] }}</td>
                        }
                        @for (col of (report.cube[CubeKey.yField] || []); track col) {
                            <td>{{ row[col] }}</td>
                        }
                    </tr>
                }
                </tbody>
            </nz-table>
        </div>
    }
</nz-card>
