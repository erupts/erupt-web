<div class="w-p-node">
  <nz-tooltip *ngIf="showError" [title]=" errorInfo || '设置错误'">
    <span nz-icon nzType="warning" nzTheme="fill" class="w-node-err-tip"></span>
  </nz-tooltip>

  <div class="w-p-node-body"
       [class.w-node-err]="showError"
       [style.--shadowColor]="color">

    <div class="w-p-node-move" (click)="onMoveL()">
      <span *ngIf="!readonly && moveLn && !isDefault" nz-icon nzType="arrow-left"></span>
    </div>

    <div style="flex: 1">
      <div class="w-p-node-header">
        <div [style.color]="isDefault ? '#898989' : color">
          <span *ngIf="!enableEdit" nz-icon [nzType]="headerIcon" nzSize="15"></span>
          <input *ngIf="enableEdit"
                 #nodeNameInput
                 autofocus
                 (blur)="onBlur()"
                 [(ngModel)]="modelValue.name"/>
          <div *ngIf="!enableEdit"
               class="w-row-text"
               (click)="onEnableEdit()">{{ modelValue.name }}</div>
        </div>

        <div *ngIf="!readonly && !isDefault" class="w-node-action">
          <span nz-icon nzType="copy" (click)="onCopy()"></span>
          <span nz-icon nzType="close" (click)="onDelete()"></span>
        </div>

        <nz-typography nzType="secondary" nzSize="small" class="w-node-desc">{{ desc }}</nz-typography>
      </div>

      <div class="w-p-node-content" (click)="onSelect()">
        <nz-typography nzEllipsis nzEllipsisRows="4">
          {{ content || placeholder }}
        </nz-typography>
      </div>
    </div>

    <div class="w-p-node-move" (click)="onMoveR()">
      <span *ngIf="!readonly && moveRn && !isDefault" nz-icon nzType="arrow-right"></span>
    </div>
  </div>

  <div class="w-p-node-add">
    <app-insert-btn *ngIf="!readonly" (insertNode)="onInsertNode($event)"></app-insert-btn>
  </div>
</div>
