<div nz-row [nzGutter]="16">
    <sv-container style="width: 100%" class="erupt-print" [labelWidth]="labelWidth" layout="vertical">
        @for (field of eruptModel.eruptFieldModels; track field) {
            @if (field.eruptFieldJson.edit && field.eruptFieldJson.edit.show && field.eruptFieldJson.edit.title) {
                @switch (field.eruptFieldJson.edit.type) {
                    <!-- INPUT -->
                    @case (editType.INPUT) {
                        @if (field.eruptFieldJson.edit.inputType.fullSpan) {
                            <div nz-col [nzSpan]="24">
                                <sv [label]="field.eruptFieldJson.edit.title">
                                    {{ getDisplayValue(field) }}
                                </sv>
                            </div>
                        }
                        @if (!field.eruptFieldJson.edit.inputType.fullSpan) {
                            <div nz-col [nzXs]="col.xs" [nzSm]="col.sm" [nzMd]="col.md"
                                 [nzLg]="col.lg" [nzXl]="col.xl" [nzXXl]="col.xxl">
                                <sv [label]="field.eruptFieldJson.edit.title">
                                    {{ getDisplayValue(field) }}
                                </sv>
                            </div>
                        }
                    }
                    <!-- NUMBER -->
                    @case (editType.NUMBER) {
                        <div nz-col [nzXs]="col.xs" [nzSm]="col.sm" [nzMd]="col.md"
                             [nzLg]="col.lg" [nzXl]="col.xl" [nzXXl]="col.xxl">
                            <sv [label]="field.eruptFieldJson.edit.title">
                                {{ getDisplayValue(field) }}
                            </sv>
                        </div>
                    }
                    <!-- COLOR -->
                    @case (editType.COLOR) {
                        <div nz-col [nzXs]="col.xs" [nzSm]="col.sm" [nzMd]="col.md"
                             [nzLg]="col.lg" [nzXl]="col.xl" [nzXXl]="col.xxl">
                            <sv [label]="field.eruptFieldJson.edit.title">
                                <div style="display: flex;align-items: center;gap: 8px;">
                                    <div [style.background-color]="field.eruptFieldJson.edit.$value"
                                         style="width: 20px;height: 20px;border: 1px solid #d9d9d9;border-radius: 2px;"></div>
                                    <span>{{ field.eruptFieldJson.edit.$value || '-' }}</span>
                                </div>
                            </sv>
                        </div>
                    }
                    <!-- TEXTAREA -->
                    @case (editType.TEXTAREA) {
                        <div nz-col [nzSpan]="24">
                            <sv [label]="field.eruptFieldJson.edit.title">
                                <div style="white-space: pre-wrap;word-break: break-word;">{{ getDisplayValue(field) }}</div>
                            </sv>
                        </div>
                    }
                    <!-- MARKDOWN -->
                    @case (editType.MARKDOWN) {
                        <div nz-col [nzSpan]="24">
                            <sv [label]="field.eruptFieldJson.edit.title">
                                <div [innerHTML]="field.eruptFieldJson.edit.$value | safeHtml"></div>
                            </sv>
                        </div>
                    }
                    <!-- CHOICE -->
                    @case (editType.CHOICE) {
                        @if (field.eruptFieldJson.edit.choiceType.type == choiceEnum.RADIO) {
                            <div nz-col [nzXs]="24">
                                <sv [label]="field.eruptFieldJson.edit.title">
                                    {{ getDisplayValue(field) }}
                                </sv>
                            </div>
                        }
                        @if (field.eruptFieldJson.edit.choiceType.type == choiceEnum.SELECT) {
                            <div nz-col [nzXs]="col.xs" [nzSm]="col.sm" [nzMd]="col.md"
                                 [nzLg]="col.lg" [nzXl]="col.xl" [nzXXl]="col.xxl">
                                <sv [label]="field.eruptFieldJson.edit.title">
                                    {{ getDisplayValue(field) }}
                                </sv>
                            </div>
                        }
                    }
                    <!-- MULTI_CHOICE -->
                    @case (editType.MULTI_CHOICE) {
                        @if (field.eruptFieldJson.edit.multiChoiceType.type == multiChoiceEnum.CHECKBOX) {
                            <div nz-col [nzXs]="24">
                                <sv [label]="field.eruptFieldJson.edit.title">
                                    {{ getDisplayValue(field) }}
                                </sv>
                            </div>
                        }
                        @if (field.eruptFieldJson.edit.multiChoiceType.type == multiChoiceEnum.SELECT) {
                            <div nz-col [nzXs]="col.xs" [nzSm]="col.sm" [nzMd]="col.md"
                                 [nzLg]="col.lg" [nzXl]="col.xl" [nzXXl]="col.xxl">
                                <sv [label]="field.eruptFieldJson.edit.title">
                                    {{ getDisplayValue(field) }}
                                </sv>
                            </div>
                        }
                    }
                    <!-- TAGS -->
                    @case (editType.TAGS) {
                        <div nz-col [nzSpan]="24">
                            <sv [label]="field.eruptFieldJson.edit.title">
                                {{ getDisplayValue(field) }}
                            </sv>
                        </div>
                    }
                    <!-- CHECKBOX -->
                    @case (editType.CHECKBOX) {
                        <div nz-col [nzSpan]="24">
                            <sv [label]="field.eruptFieldJson.edit.title">
                                {{ getDisplayValue(field) }}
                            </sv>
                        </div>
                    }
                    <!-- SLIDER -->
                    @case (editType.SLIDER) {
                        <div nz-col [nzXs]="col.xs" [nzSm]="col.sm" [nzMd]="col.md" [nzLg]="col.lg"
                             [nzXl]="col.xl" [nzXXl]="col.xxl">
                            <sv [label]="field.eruptFieldJson.edit.title">
                                {{ getDisplayValue(field) }}
                            </sv>
                        </div>
                    }
                    <!-- RATE -->
                    @case (editType.RATE) {
                        <div nz-col [nzXs]="col.xs" [nzSm]="col.sm" [nzMd]="col.md" [nzLg]="col.lg"
                             [nzXl]="col.xl" [nzXXl]="col.xxl">
                            <sv [label]="field.eruptFieldJson.edit.title">
                                <nz-rate [ngModel]="field.eruptFieldJson.edit.$value"
                                         [nzDisabled]="true"
                                         [nzCharacter]="field.eruptFieldJson.edit.rateType.character&&characterIcon"
                                         [nzCount]="field.eruptFieldJson.edit.rateType.count"
                                         [nzAllowHalf]="field.eruptFieldJson.edit.rateType.allowHalf">
                                    <ng-template #characterIcon>
                                        <span>{{ field.eruptFieldJson.edit.rateType.character }}</span>
                                    </ng-template>
                                </nz-rate>
                            </sv>
                        </div>
                    }
                    <!-- DATE -->
                    @case (editType.DATE) {
                        <div nz-col [nzXs]="col.xs" [nzSm]="col.sm" [nzMd]="col.md" [nzLg]="col.lg"
                             [nzXl]="col.xl" [nzXXl]="col.xxl">
                            <sv [label]="field.eruptFieldJson.edit.title">
                                {{ getDisplayValue(field) }}
                            </sv>
                        </div>
                    }
                    <!-- REFERENCE_TREE -->
                    @case (editType.REFERENCE_TREE) {
                        <div nz-col [nzXs]="col.xs" [nzSm]="col.sm" [nzMd]="col.md" [nzLg]="col.lg"
                             [nzXl]="col.xl" [nzXXl]="col.xxl">
                            <sv [label]="field.eruptFieldJson.edit.title">
                                {{ getDisplayValue(field) }}
                            </sv>
                        </div>
                    }
                    <!-- REFERENCE_TABLE -->
                    @case (editType.REFERENCE_TABLE) {
                        <div nz-col [nzXs]="col.xs" [nzSm]="col.sm" [nzMd]="col.md" [nzLg]="col.lg"
                             [nzXl]="col.xl" [nzXXl]="col.xxl">
                            <sv [label]="field.eruptFieldJson.edit.title">
                                {{ getDisplayValue(field) }}
                            </sv>
                        </div>
                    }
                    <!-- BOOLEAN -->
                    @case (editType.BOOLEAN) {
                        <div nz-col [nzXs]="col.xs" [nzSm]="col.sm" [nzMd]="col.md" [nzLg]="col.lg"
                             [nzXl]="col.xl" [nzXXl]="col.xxl">
                            <sv [label]="field.eruptFieldJson.edit.title">
                                {{ getDisplayValue(field) | translate }}
                            </sv>
                        </div>
                    }
                    <!-- ATTACHMENT -->
                    @case (editType.ATTACHMENT) {
                        <div nz-col [nzSpan]="24">
                            <sv [label]="field.eruptFieldJson.edit.title">
                                @if (hasAttachments(field)) {
                                    @switch (field.eruptFieldJson.edit.attachmentType.type) {
                                        @case (attachmentEnum.IMAGE) {
                                            <div style="display: flex;flex-wrap: wrap;gap: 8px;">
                                                @for (file of field.eruptFieldJson.edit.$viewValue; track file.uid) {
                                                    <div style="border: 1px solid #d9d9d9;padding: 4px;border-radius: 2px;">
                                                        @if (file.url) {
                                                            <img [src]="file.url" style="width: 100px;height: 100px;object-fit: contain;" alt=""/>
                                                        }
                                                        @if (!file.url && file.response && file.response.data) {
<!--                                                            <img [src]="dataService.previewAttachment(file.response.data)"-->
<!--                                                                 style="width: 100px;height: 100px;object-fit: contain;" alt=""/>-->
                                                        }
                                                    </div>
                                                }
                                            </div>
                                        }
                                        @case (attachmentEnum.BASE) {
                                            <div style="display: flex;flex-direction: column;gap: 4px;">
                                                @for (file of field.eruptFieldJson.edit.$viewValue; track file.uid) {
                                                    <div>
                                                        @if (file.url) {
                                                            <a [href]="file.url" target="_blank">{{ file.name }}</a>
                                                        }
                                                        @if (!file.url && file.response && file.response.data) {
<!--                                                            <a [href]="dataService.previewAttachment(file.response.data,false)" target="_blank">{{ file.name }}</a>-->
                                                        }
                                                    </div>
                                                }
                                            </div>
                                        }
                                    }
                                }
                                @if (!hasAttachments(field)) {
                                    -
                                }
                            </sv>
                        </div>
                    }
                    <!-- HTML_EDITOR -->
                    @case (editType.HTML_EDITOR) {
                        <div nz-col [nzSpan]="24">
                            <sv [label]="field.eruptFieldJson.edit.title">
                                <div class="rich-content-html" [innerHTML]="field.eruptFieldJson.edit.$value | safeHtml"></div>
                            </sv>
                        </div>
                    }
                    <!-- CODE_EDITOR -->
                    @case (editType.CODE_EDITOR) {
                        <div nz-col [nzSpan]="24">
                            <sv [label]="field.eruptFieldJson.edit.title">
                                <pre style="background: #f5f5f5;padding: 12px;border-radius: 4px;overflow-x: auto;"><code>{{ field.eruptFieldJson.edit.$value || '-' }}</code></pre>
                            </sv>
                        </div>
                    }
                    <!-- SIGNATURE -->
                    @case (editType.SIGNATURE) {
                        <div nz-col [nzSpan]="24">
                            <sv [label]="field.eruptFieldJson.edit.title">
                                @if (hasSignature(field)) {
                                    <div style="display: inline-block;border: 1px solid #d9d9d9;padding: 4px;border-radius: 2px;">
                                        <img [src]="field.eruptFieldJson.edit.$value"
                                             style="max-width: 150px;max-height: 80px;display: block;" alt="signature"/>
                                    </div>
                                }
                                @if (!hasSignature(field)) {
                                    -
                                }
                            </sv>
                        </div>
                    }
                    <!-- MAP -->
                    @case (editType.MAP) {
                        <div nz-col [nzSpan]="24">
                            <sv [label]="field.eruptFieldJson.edit.title">
                                {{ getDisplayValue(field) }}
                            </sv>
                        </div>
                    }
                    <!-- COMBINE -->
                    @case (editType.COMBINE) {
                        <div nz-col [nzSpan]="24" style="margin-top: 8px">
                            <div class="print-combine-section">
                                <div class="combine-title">{{ field.eruptFieldJson.edit.title }}</div>
                                <div class="combine-content">
                                    <erupt-print-type
                                        [eruptBuildModel]="{eruptModel:eruptBuildModel.combineErupts[field.fieldName]}">
                                    </erupt-print-type>
                                </div>
                            </div>
                        </div>
                    }
                    <!-- DIVIDE -->
                    @case (editType.DIVIDE) {
                        <div nz-col [nzSpan]="24" style="margin-bottom: 0">
                            <nz-divider [nzDashed]="false" [nzText]="field.eruptFieldJson.edit.title"></nz-divider>
                        </div>
                    }
                }
            }
        }
    </sv-container>
</div>
