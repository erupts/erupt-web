<div class="upms-select-container">
  <!-- 左侧面板：角色选择 -->
  <div class="left-panel">
    <!-- 标签页 -->
    <div class="tabs">
      <div 
        *ngFor="let tab of tabs; let i = index" 
        class="tab-item"
        [class.active]="activeTab === i"
        (click)="onTabChange(i)"
      >
        {{ tab.label }}
      </div>
    </div>

    <!-- 搜索框 -->
    <div class="search-container">
      <nz-input-group nzSize="large">
        <input 
          nz-input 
          placeholder="搜索角色名称"
          [(ngModel)]="searchText"
        />
        <span nz-input-group-suffix>
          <span nz-icon nzType="search" nzTheme="outline"></span>
        </span>
      </nz-input-group>
    </div>

    <!-- 外部链接信息 -->
    <div class="external-link">
      <span nz-icon nzType="info-circle" nzTheme="outline"></span>
      <span>跳转飞书管理后台 配置角色</span>
    </div>

    <!-- 角色列表 -->
    <div class="role-list">
      <div 
        *ngFor="let role of filteredRoles" 
        class="role-item"
        (click)="onRoleToggle(role)"
      >
        <nz-checkbox
          [ngModel]="role.checked"
          (ngModelChange)="onRoleToggle(role)"
          (click)="$event.stopPropagation()"
        ></nz-checkbox>
        <span class="role-name">{{ role.name }}</span>
      </div>
    </div>
  </div>

  <!-- 右侧面板：已选角色 -->
  <div class="right-panel">
    <div class="selected-header">
      <h3 class="selected-count">已选: {{ selectedCount }}个角色</h3>
      <button 
        nz-button 
        nzType="link" 
        nzSize="small"
        (click)="onClearAll()"
        class="clear-btn"
      >
        清空
      </button>
    </div>
    
    <div class="selected-roles">
      <div 
        *ngFor="let role of selectedRoles" 
        class="selected-role-item"
      >
        <span class="role-name">{{ role.name }}</span>
        <button 
          nz-button 
          nzType="text" 
          nzSize="small"
          nzDanger
          (click)="onRoleRemove(role)"
          class="remove-btn"
        >
          <span nz-icon nzType="close" nzTheme="outline"></span>
        </button>
      </div>
    </div>
  </div>
</div>
